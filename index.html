<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculateur de Checkbox</title>
    <script>
        function calculate() {
            const forfait = 13;

            const kilometrage = (document.getElementById('kilometrage').value - 4) * 1.13 || 0;

            const checkboxForfaitAireMetropolitaine = document.getElementById('metropolitaine').checked ? 15 : 0;

            let total = forfait + kilometrage + checkboxForfaitAireMetropolitaine; // Initialize total

            if (document.getElementById('nuit').checked) {
                const additionalChargeNuit = total * 0.5; // Add 50% to total
                total += additionalChargeNuit;
            }

            if (document.getElementById('retour').checked && !document.getElementById('nuit').checked) {
                const additionalChargeRetour = kilometrage * 0.25; // Add 25% to total
                total += additionalChargeRetour;
            }

            total = total.toFixed(2); // Round total to 2 decimal places
            
            document.getElementById('result').innerText = 'Total: ' + total;
        }
    </script>
</head>
<body>
    <h1>Calculateur de Checkbox</h1>
    <label>
        Distance (en km): <input type="number" id="kilometrage" onchange="calculate()">
    </label><br>    
    <label>
        <input type="checkbox" id="nuit" onclick="calculate()"> Nuit / Week-end / Férié
    </label><br>
    <label>
        <input type="checkbox" id="retour" onclick="calculate()"> Retour à vide (hospitalisation)
    </label><br>
    <label>
        <input type="checkbox" id="metropolitaine" onclick="calculate()"> Forfait aire métropolitaine (+15 €)
    </label><br>
    <h2 id="result">Total: 0</h2>
</body>
</html>
